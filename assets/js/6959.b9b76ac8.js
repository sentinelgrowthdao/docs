"use strict";(self.webpackChunksentinel_docs=self.webpackChunksentinel_docs||[]).push([[6959],{26959:(t,e,i)=>{i.r(e),i.d(e,{dyte_setup_screen:()=>p});var s=i(72944),o=i(1821),n=i(50975),r=i(17213),a=i(17073),c=i(84593),l=i(55055),d=i(26468);const p=class{constructor(t){(0,s.r)(this,t),this.stateUpdate=(0,s.c)(this,"dyteStateUpdate",7),this.socketStateUpdate=({state:t})=>{this.connectionState=t,"failed"===t&&(this.isJoining=!1)},this.join=async()=>{var t,e,i;if(""!==(null===(t=this.displayName)||void 0===t?void 0:t.trim())&&!this.isJoining){this.isJoining=!0,null===(e=this.meeting)||void 0===e||e.self.setName(this.displayName),l.a.setItem("dyte-display-name",this.displayName);try{await(null===(i=this.meeting)||void 0===i?void 0:i.joinRoom())}catch(s){this.isJoining=!1}}},this.meeting=void 0,this.states=d.s,this.size=void 0,this.config=n.d,this.iconPack=a.d,this.t=(0,c.u)(),this.displayName=void 0,this.isJoining=!1,this.canEditName=!0,this.canProduceAudio=!0,this.connectionState=void 0}connectedCallback(){this.meetingChanged(this.meeting)}disconnectedCallback(){this.meeting.meta.removeListener("socketConnectionUpdate",this.socketStateUpdate)}componentDidLoad(){var t;null===(t=this.inputEl)||void 0===t||t.focus()}meetingChanged(t){var e,i,s;null!=t&&(this.connectionState=null===(e=t.meta.socketState)||void 0===e?void 0:e.state,this.canEditName=null===(i=t.self.permissions.canEditDisplayName)||void 0===i||i,this.displayName=(null===(s=t.self.name)||void 0===s?void 0:s.trim())||(this.canEditName?"":"Participant"),d.s.meeting="setup",t.meta.addListener("socketConnectionUpdate",this.socketStateUpdate))}render(){var t,e,i,n;const a=""===(null===(t=this.displayName)||void 0===t?void 0:t.trim())||"connected"!==this.connectionState||this.isJoining,c={meeting:this.meeting,config:this.config,states:this.states||d.s,size:this.size,iconPack:this.iconPack,t:this.t};return(0,s.h)(s.H,null,(0,s.h)("div",{class:"container"},(0,s.h)("div",{class:"container-tile"},(0,s.h)(r.R,{element:"dyte-participant-tile",defaults:c,props:{participant:null===(e=this.meeting)||void 0===e?void 0:e.self,size:"md"},childProps:{participant:null===(i=this.meeting)||void 0===i?void 0:i.self,size:"md"},deepProps:!0}),(0,s.h)("div",{class:"media-selectors"},(0,s.h)("dyte-microphone-selector",Object.assign({},c,{variant:"inline"})),(0,s.h)("dyte-camera-selector",Object.assign({},c,{variant:"inline"})),(0,s.h)("dyte-speaker-selector",Object.assign({},c,{variant:"inline"})))),(0,s.h)("div",{class:"metadata"},""===(null===(n=this.displayName)||void 0===n?void 0:n.trim())?(0,s.h)("div",{class:"name"},this.t("setup_screen.join_in_as")):(0,s.h)("div",{class:"label"},(0,s.h)("p",null,this.t("setup_screen.joining_as")),(0,s.h)("div",{class:"name"},!this.canEditName&&(0,o.s)(this.displayName,20))),this.canEditName&&(0,s.h)("input",{placeholder:this.t("setup_screen.your_name"),value:this.displayName,autoFocus:!0,ref:t=>{this.inputEl=t},onInput:t=>{this.displayName=t.target.value},onKeyDown:t=>{"Enter"===t.key&&this.join()}}),(0,s.h)("dyte-button",{size:"lg",kind:"wide",onClick:this.join,disabled:a,iconPack:this.iconPack,t:this.t},this.isJoining?(0,s.h)("dyte-spinner",{iconPack:this.iconPack,t:this.t}):this.t("join")),"connected"!==this.connectionState&&(0,s.h)("div",{class:"no-network-badge"},(0,s.h)("dyte-icon",{size:"md",variant:"danger",icon:this.iconPack.disconnected}),"failed"===this.connectionState?this.t("network.lost_extended"):this.t("network.lost")))))}static get watchers(){return{meeting:["meetingChanged"]}}};p.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{box-sizing:border-box;padding:var(--dyte-space-4, 16px);height:100%;min-height:100%;width:100%;display:flex;place-items:center;justify-content:center;--dyte-controlbar-button-background-color:rgb(var(--dyte-colors-background-700, 44 44 44))}.container{width:100%;max-width:1080px;display:flex;align-items:center;justify-content:space-evenly;gap:var(--dyte-space-4, 16px)}.metadata{width:100%;max-width:var(--dyte-space-80, 320px)}.label{display:flex;flex-direction:column;align-items:center;font-size:14px}.label p{margin-top:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-2, 8px);display:inline-block;font-size:16px}.container-tile{display:flex;height:100%;width:100%;max-width:584px;flex-direction:column;gap:var(--dyte-space-2, 8px)}.name{margin:var(--dyte-space-0, 0px);margin-bottom:var(--dyte-space-6, 24px);text-align:center;font-size:28px;font-weight:500;letter-spacing:-0.025em;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}input{margin-bottom:var(--dyte-space-6, 24px);display:block;height:var(--dyte-space-10, 40px);width:100%;max-width:var(--dyte-space-80, 320px);border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-background-1000, 8 8 8) / var(--tw-bg-opacity));padding-left:var(--dyte-space-3, 12px);padding-right:var(--dyte-space-3, 12px);color:rgb(var(--dyte-colors-text-1000, 255 255 255));box-sizing:border-box;font-size:16px;outline:2px solid transparent;outline-offset:2px;transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}input::-moz-placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}input::placeholder{color:rgb(var(--dyte-colors-text-600, 255 255 255 / 0.52))}input{border:var(--dyte-border-width-sm, 1px) solid rgb(var(--dyte-colors-background-600, 60 60 60))}input:focus{--tw-border-opacity:1;border-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-border-opacity))}dyte-spinner{color:rgb(var(--dyte-colors-text-1000, 255 255 255));--icon-size:var(--dyte-space-8, 32px)}:host([size='sm']) .container,:host([size='md']) .container{height:100%;flex-direction:column;justify-content:space-evenly}:host([size='sm']) .container-tile,:host([size='md']) .container-tile{height:-moz-min-content;height:min-content;flex-direction:column;justify-content:center}dyte-participant-tile{height:auto;width:100%;max-width:584px}.media-selectors{display:flex;flex-direction:column;justify-content:space-between}.media-selectors .row{display:grid;grid-template-columns:repeat(2, minmax(0, 1fr))}.no-network-badge{margin-top:var(--dyte-space-2, 8px);display:flex;width:100%;flex-direction:row;align-items:center;justify-content:flex-start;border-radius:var(--dyte-border-radius-sm, 4px);--tw-bg-opacity:1;background-color:rgba(var(--dyte-colors-brand-500, 33 96 253) / var(--tw-bg-opacity));background-color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.1);padding-top:var(--dyte-space-1, 4px);padding-bottom:var(--dyte-space-1, 4px);font-size:12px;color:rgba(var(--dyte-colors-danger, 255 45 45) / 0.75)}.no-network-badge dyte-icon{margin-left:var(--dyte-space-2, 8px);margin-right:var(--dyte-space-2, 8px)}"},17213:(t,e,i)=>{i.d(e,{R:()=>c,l:()=>a});var s=i(72944);const o=({element:t,size:e,states:i={},config:s={}})=>{let o=[];const n=null==s?void 0:s.root[t],r=t=>{o.push(t),"string"==typeof e&&o.push(`${t}.${e}`)};if(r(t),"object"==typeof n&&!Array.isArray(n)&&null!==n){const{state:e,states:s}=n;let o=t,a=[];if(Array.isArray(s)){a=s.filter((t=>i[t])),a.sort();for(const t of a)r(`${o}.${t}`);if(a.length>1){r([o,...a].join("."))}}if("string"==typeof e){const s=`${t}[${e}=${i[e]}]`;r(s);for(const t of a)r(`${s}.${t}`);if(a.length>1){r([s,...a].join("."))}}}return o},n=({selectors:t,root:e})=>{if(!e||!Array.isArray(t))return[];let i=[];for(const s of t){const t=e[s];if(Array.isArray(t))i=[...t];else if(t){if(t.children&&(i=[...t.children]),Array.isArray(t.remove))for(const e of t.remove)i=i.filter((t=>"string"==typeof t?t!==e:!Array.isArray(t)||t[0]!==e));if(t.addBefore)for(const[e,s]of Object.entries(t.addBefore)){const t=i.findIndex((t=>"string"==typeof t?t===e:!!Array.isArray(t)&&t[0]===e));t>=0&&i.splice(t,0,...s)}Array.isArray(t.add)&&(i=i.concat(t.add)),Array.isArray(t.prepend)&&(i=t.prepend.concat(i))}}return i},r=({elements:t,defaults:e,props:i={},deepProps:o=!1,elementProps:n={}})=>Array.isArray(t)&&0!==t.length?t.map((t=>(0,s.h)(c,{element:t,defaults:e,props:i,childProps:o&&i,elementProps:n}))):null,a=({element:t,defaults:e,props:i={},elementProps:s={}})=>{var r;const{config:a,size:c,states:l}=e;let d,p={},h=[];Array.isArray(t)?[d,p,...h]=t:d=t;const y=null===(r=null==a?void 0:a.root)||void 0===r?void 0:r[d];null!=y&&"props"in y&&(i=Object.assign(Object.assign({},y.props),i)),i=Object.assign(Object.assign({},i),p),d in s&&(i=Object.assign(Object.assign({},i),s[d]));const g=o({element:d,size:c,states:l,config:a});return n({selectors:g,root:a.root}).length},c=({element:t,defaults:e,childProps:i={},props:a={},onlyChildren:c=!1,asHost:l=!1,deepProps:d=!1,elementProps:p={}},h)=>{var y;const{config:g,size:m,states:u}=e;let f,b={},v=[];Array.isArray(t)?[f,b,...v]=t:f=t;const x=null===(y=null==g?void 0:g.root)||void 0===y?void 0:y[f];null!=x&&"props"in x&&(a=Object.assign(Object.assign({},x.props),a)),a=Object.assign(Object.assign({},a),b),f in p&&(a=Object.assign(Object.assign({},a),p[f]));const k=o({element:f,size:m,states:u,config:g}),w=n({selectors:k,root:g.root});if(c)return(0,s.h)(r,{elements:w,defaults:e,props:i,deepProps:d,elementProps:p});const j=(({selectors:t,styles:e})=>{if(!Array.isArray(t)||null==e)return{};const i={};for(const s of t){const t=e[s];null!=t&&Object.assign(i,t)}return i})({selectors:k,styles:g.styles});if(l)return(0,s.h)(s.H,Object.assign({},e,{style:j},a),(0,s.h)(r,{elements:w,defaults:e,props:i,deepProps:d,elementProps:p}),h,v.map((t=>{if(Array.isArray(t)){const[i,o]=t;return(0,s.h)(i,Object.assign({},e,o))}return t})));if(["dyte-header","dyte-controlbar"].includes(f)&&(a.disableRender=!0),f.startsWith("dyte-"))return(0,s.h)(f,Object.assign({},e,{style:j},a),(0,s.h)(r,{elements:w,defaults:e,props:i,deepProps:d,elementProps:p}),h,v.map((t=>{if(Array.isArray(t)){const[i,o]=t;return(0,s.h)(i,Object.assign({},e,o))}return t})));{const[t,o]=f.split("#");return(0,s.h)(t,Object.assign({id:o,style:j},a),(0,s.h)(r,{elements:w,defaults:e,props:i,deepProps:d,elementProps:p}),h,v.map((t=>{if(Array.isArray(t)){const[i,o]=t;return(0,s.h)(i,Object.assign({},e,o))}return t})))}}},1821:(t,e,i)=>{i.d(e,{a:()=>n,f:()=>r,g:()=>l,h:()=>o,s:()=>s});const s=(t,e=20)=>null==t?"":t.length>e?`${t.substring(0,e)}...`:t,o=t=>/^\p{Emoji}+$/u.test(t)&&!/^\d+$/.test(t),n=t=>(null==t?void 0:t.trim().toLowerCase().startsWith("javascript:"))?"https://dyte.io":t,r=t=>""===(t=null==t?void 0:t.trim())?"Participant":t,a=new RegExp(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w\s]/,"g"),c=new RegExp(/\s+/);function l(t,e=2){return t.replace(a,"").trim().split(c).slice(0,e).map((t=>t.charAt(0))).join("").toUpperCase()}}}]);